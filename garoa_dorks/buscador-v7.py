# Dorme por 1 segundo estatico

import time
import requests
from bs4 import BeautifulSoup
from urllib.parse import unquote


def imprime_links(pagina_html):
    soup = BeautifulSoup(pagina_de_busca.text, "html.parser")

    for item in soup.find_all('h3', attrs={'class': 'r'}):
        if item.a:
            link_sujo_do_google = item.a.attrs['href']
            # /url?site.com.br&ui=10....
            link_sem_url_inicial = link_sujo_do_google[7:]
            # site.com.br&ui=10....
            link_os_parametros_do_google = link_sem_url_inicial.split('&')[0]
            # site.com.br/%20%273667
            link_final_decodificado = unquote(link_os_parametros_do_google)
            # site.com.br
            print(link_final_decodificado)


termo_digitado = input('digite para buscar no google: ')

for inicia_resultados_em in [0, 10, 20, 30, 50]:

    parametros_de_busca = {'q': termo_digitado, 'start': inicia_resultados_em}

    pagina_de_busca = requests.get('https://www.google.com.br/search',
                                   params=parametros_de_busca)

    imprime_links(pagina_de_busca.text)

    time.sleep(1)
